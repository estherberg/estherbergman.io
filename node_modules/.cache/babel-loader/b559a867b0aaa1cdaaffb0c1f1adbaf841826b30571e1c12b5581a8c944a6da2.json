{"ast":null,"code":"import React,{useEffect}from'react';import emailjs from'emailjs-com';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{useEffect(()=>{const sendEmail=async()=>{try{// Obtenir l'adresse IP du visiteur\nconst{ip}=await fetch('https://api.ipify.org?format=json').then(response=>response.json());// Obtenir les informations sur le pays à partir de l'adresse IP\nconst{country}=await fetch(\"https://ipapi.co/\".concat(ip,\"/country/\")).then(response=>response.text());const templateParams={to_email:'emmanuel.elbaz@gmail.com',ip:ip,country:country};await emailjs.send('service_1wcvlfs','template_77ojhsk',templateParams,'0rYsYu-aKtajMEdCw');console.log('E-mail sent successfully!');}catch(error){console.error('Error sending e-mail:',error);}};sendEmail();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to My Website\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for visiting!\"})]});};export default HomePage;","map":{"version":3,"names":["React","useEffect","emailjs","jsx","_jsx","jsxs","_jsxs","HomePage","sendEmail","ip","fetch","then","response","json","country","concat","text","templateParams","to_email","send","console","log","error","children"],"sources":["/workspaces/estherbergman.io/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport emailjs from 'emailjs-com';\n\nconst HomePage = () => {\n  useEffect(() => {\n    const sendEmail = async () => {\n      try {\n        // Obtenir l'adresse IP du visiteur\n        const { ip } = await fetch('https://api.ipify.org?format=json').then(response =>\n          response.json()\n        );\n\n        // Obtenir les informations sur le pays à partir de l'adresse IP\n        const { country } = await fetch(`https://ipapi.co/${ip}/country/`).then(response =>\n          response.text()\n        );\n\n        const templateParams = {\n          to_email: 'emmanuel.elbaz@gmail.com',\n          ip: ip,\n          country: country\n        };\n\n        await emailjs.send(\n            'service_1wcvlfs',\n            'template_77ojhsk',\n            templateParams,\n            '0rYsYu-aKtajMEdCw'\n          );\n\n        console.log('E-mail sent successfully!');\n      } catch (error) {\n        console.error('Error sending e-mail:', error);\n      }\n    };\n\n    sendEmail();\n  }, []);\n\n  return (\n    <div>\n      <h1>Welcome to My Website</h1>\n      <p>Thank you for visiting!</p>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,OAAO,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrBN,SAAS,CAAC,IAAM,CACd,KAAM,CAAAO,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF;AACA,KAAM,CAAEC,EAAG,CAAC,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAC,CAACC,IAAI,CAACC,QAAQ,EAC3EA,QAAQ,CAACC,IAAI,CAAC,CAChB,CAAC,CAED;AACA,KAAM,CAAEC,OAAQ,CAAC,CAAG,KAAM,CAAAJ,KAAK,qBAAAK,MAAA,CAAqBN,EAAE,aAAW,CAAC,CAACE,IAAI,CAACC,QAAQ,EAC9EA,QAAQ,CAACI,IAAI,CAAC,CAChB,CAAC,CAED,KAAM,CAAAC,cAAc,CAAG,CACrBC,QAAQ,CAAE,0BAA0B,CACpCT,EAAE,CAAEA,EAAE,CACNK,OAAO,CAAEA,OACX,CAAC,CAED,KAAM,CAAAZ,OAAO,CAACiB,IAAI,CACd,iBAAiB,CACjB,kBAAkB,CAClBF,cAAc,CACd,mBACF,CAAC,CAEHG,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC1C,CAAE,MAAOC,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAEDd,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEF,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BnB,IAAA,MAAAmB,QAAA,CAAG,yBAAuB,CAAG,CAAC,EAC3B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}