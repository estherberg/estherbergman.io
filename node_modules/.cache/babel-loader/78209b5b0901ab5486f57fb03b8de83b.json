{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/esthe/Desktop/code/REACT-CV1-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/esthe/Desktop/code/REACT-CV1-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import emailjs from'emailjs-com';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=function HomePage(){useEffect(function(){var sendEmail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$fetch$then,ip,_yield$fetch$then2,country,templateParams;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://api.ipify.org?format=json').then(function(response){return response.json();});case 3:_yield$fetch$then=_context.sent;ip=_yield$fetch$then.ip;_context.next=7;return fetch(\"https://ipapi.co/\".concat(ip,\"/country/\")).then(function(response){return response.text();});case 7:_yield$fetch$then2=_context.sent;country=_yield$fetch$then2.country;templateParams={to_email:'emmanuel.elbaz@gmail.com',ip:ip,country:country};_context.next=12;return emailjs.send('service_1wcvlfs','template_77ojhsk',templateParams,'0rYsYu-aKtajMEdCw');case 12:console.log('E-mail sent successfully!');_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.error('Error sending e-mail:',_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function sendEmail(){return _ref.apply(this,arguments);};}();sendEmail();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to My Website\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for visiting!\"})]});};export default HomePage;","map":{"version":3,"names":["React","useEffect","emailjs","HomePage","sendEmail","fetch","then","response","json","ip","text","country","templateParams","to_email","send","console","log","error"],"sources":["C:/Users/esthe/Desktop/code/REACT-CV1-main/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport emailjs from 'emailjs-com';\r\n\r\nconst HomePage = () => {\r\n  useEffect(() => {\r\n    const sendEmail = async () => {\r\n      try {\r\n        // Obtenir l'adresse IP du visiteur\r\n        const { ip } = await fetch('https://api.ipify.org?format=json').then(response =>\r\n          response.json()\r\n        );\r\n\r\n        // Obtenir les informations sur le pays Ã  partir de l'adresse IP\r\n        const { country } = await fetch(`https://ipapi.co/${ip}/country/`).then(response =>\r\n          response.text()\r\n        );\r\n\r\n        const templateParams = {\r\n          to_email: 'emmanuel.elbaz@gmail.com',\r\n          ip: ip,\r\n          country: country\r\n        };\r\n\r\n        await emailjs.send(\r\n            'service_1wcvlfs',\r\n            'template_77ojhsk',\r\n            templateParams,\r\n            '0rYsYu-aKtajMEdCw'\r\n          );\r\n\r\n        console.log('E-mail sent successfully!');\r\n      } catch (error) {\r\n        console.error('Error sending e-mail:', error);\r\n      }\r\n    };\r\n\r\n    sendEmail();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Welcome to My Website</h1>\r\n      <p>Thank you for visiting!</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"gRAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,QAAP,KAAoB,aAApB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBF,SAAS,CAAC,UAAM,CACd,GAAMG,UAAS,4FAAG,8OAGOC,MAAK,CAAC,mCAAD,CAAL,CAA2CC,IAA3C,CAAgD,SAAAC,QAAQ,QAC3EA,SAAQ,CAACC,IAAT,EAD2E,EAAxD,CAHP,wCAGNC,EAHM,mBAGNA,EAHM,uBAQYJ,MAAK,4BAAqBI,EAArB,cAAL,CAAyCH,IAAzC,CAA8C,SAAAC,QAAQ,QAC9EA,SAAQ,CAACG,IAAT,EAD8E,EAAtD,CARZ,yCAQNC,OARM,oBAQNA,OARM,CAYRC,cAZQ,CAYS,CACrBC,QAAQ,CAAE,0BADW,CAErBJ,EAAE,CAAEA,EAFiB,CAGrBE,OAAO,CAAEA,OAHY,CAZT,wBAkBRT,QAAO,CAACY,IAAR,CACF,iBADE,CAEF,kBAFE,CAGFF,cAHE,CAIF,mBAJE,CAlBQ,SAyBdG,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAzBc,iFA2BdD,OAAO,CAACE,KAAR,CAAc,uBAAd,cA3Bc,qEAAH,kBAATb,UAAS,0CAAf,CA+BAA,SAAS,GACV,CAjCQ,CAiCN,EAjCM,CAAT,CAmCA,mBACE,oCACE,6CADF,cAEE,8CAFF,GADF,CAMD,CA1CD,CA4CA,cAAeD,SAAf"},"metadata":{},"sourceType":"module"}